<!--TODO: Add the Class of Data-->
<script type="text/javascript">
    function follow() {
        $.ajax({
            url:"<%= follow_path(@user.id) %>",
            type:"post",
            success:function (data) {
                $("#follow_button .ui-btn-text").html(data);
                if (data == "Follow") {
                    $('#follow_notice').html("Not Followed");
                } else {
                    $('#follow_notice').html("Followed");
                }
            }
        });
    }
</script>

<%= image_tag @photo, :style => "float:left; border-radius:5px;margin-right:10px;max-width:80px" %>
<h4><%= @name.titlecase %>
  <br>
  <small><%= @headline %></small>
  <br>
  <span id="follow_notice" style="float:left"><%= Follower.find_by_user_id_and_follower_id(current_user.id, @user.id).blank? ? "Not Followed" :"Followed" %></span>
</h4>
<br>
<%= link_to "#{Follower.find_by_user_id_and_follower_id(current_user.id, @user.id).blank? ? 'Follow' :'Unfollow'}", "#", :'data-role' => "button", :'data-theme' => "a", :onclick => "follow()", :id => "follow_button" %>

<br>
<strong>Work</strong>
<br>
<ul>
  <% @positions.each do |position| %>
      <li><%= position %></li>
  <% end %>
</ul>
<strong>Education</strong>
<br>
<ul>
  <% @educations.each do |education| %>
      <li><%= education %></li>
  <% end %>
</ul>

<strong>Other Followers</strong>
<br>
<ul>
  <% @followers.each do |follower| %>
      <li>
        <%= image_tag follower.picture, :style => "float:left; border-radius:5px;margin-right:10px;max-width:40px" %>
        <%= follower.name.titlecase %>
      </li>
  <% end %>
</ul>


<br>
<br>
<br>





