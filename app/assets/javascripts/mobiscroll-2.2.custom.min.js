(function (b) {
    b.widget("mobile.jqmMobiscroll", b.mobile.widget, {options:{theme:"jqm", preset:"date", animate:"pop"}, _create:function () {
        var r = this.element, w = b.extend(this.options, r.jqmData("options"));
        r.mobiscroll(w)
    }});
    b(document).bind("pagebeforecreate", function (r) {
        b('input[type="date"]:jqmData(role="mobiscroll")', r.target).prop("type", "text")
    });
    b(document).bind("pagecreate create", function (r) {
        b(document).trigger("mobiscrollbeforecreate");
        b(':jqmData(role="mobiscroll")', r.target).each(function () {
            "undefined" ===
                typeof b(this).data("mobiscroll") && b(this).jqmMobiscroll()
        })
    })
})(jQuery);
(function (b) {
    function r(a, v) {
        function i(a) {
            return b.isArray(f.readonly) ? (a = b(".dwwl", p).index(a), f.readonly[a]) : f.readonly
        }

        function o(b) {
            var a = "", f;
            for (f in T[b])a += '<li class="dw-v" data-val="' + f + '" style="height:' + G + "px;line-height:" + G + 'px;"><div class="dw-i">' + T[b][f] + "</div></li>";
            return a
        }

        function A() {
            var b = document.body, a = document.documentElement;
            return Math.max(b.scrollHeight, b.offsetHeight, a.clientHeight, a.scrollHeight, a.offsetHeight)
        }

        function t(a) {
            l = b("li.dw-v", a).eq(0).index();
            e = b("li.dw-v",
                a).eq(-1).index();
            s = b("ul", p).index(a);
            u = G;
            c = h
        }

        function Q(a) {
            var b = f.headerText;
            return b ? "function" == typeof b ? b.call(F, a) : b.replace(/\{value\}/i, a) : ""
        }

        function r() {
            h.temp = R && (null !== h.val && h.val != x.val() || !x.val().length) || null === h.values ? f.parseValue(x.val() || "", h) : h.values.slice(0);
            h.setValue(!0)
        }

        function U(a, e, d, A, c) {
            f.validate.call(F, p, d, a);
            b(".dww ul", p).each(function (f) {
                var A = b(this), t = b('li[data-val="' + h.temp[f] + '"]', A), g = t.index(), v = f == d || void 0 === d;
                if (!t.hasClass("dw-v")) {
                    for (var k = t, i = 0,
                             l = 0; k.prev().length && !k.hasClass("dw-v");)k = k.prev(), i++;
                    for (; t.next().length && !t.hasClass("dw-v");)t = t.next(), l++;
                    (l < i && l && 2 !== c || !i || !k.hasClass("dw-v") || 1 == c) && t.hasClass("dw-v") ? g += l : (t = k, g -= i)
                }
                if (!t.hasClass("dw-sel") || v)h.temp[f] = t.attr("data-val"), b(".dw-sel", A).removeClass("dw-sel"), t.addClass("dw-sel"), h.scroll(A, g, v ? a : 0.2, v ? e : void 0, f)
            });
            h.change(A)
        }

        function E() {
            function a() {
                b(".dwc", p).each(function () {
                    v = b(this).outerWidth(!0);
                    d += v;
                    e = v > e ? v : e
                });
                v = d > t ? e : d;
                v = b(".dwwr", p).width(v + 1).outerWidth();
                l = g.outerHeight()
            }

            if ("inline" != f.display) {
                var d = 0, e = 0, t = b(window).width(), c = window.innerHeight, h = b(window).scrollTop(), g = b(".dw", p), v, k, i, l, m, o = {}, H, s = void 0 === f.anchor ? x : f.anchor, c = c || b(window).height();
                if ("modal" == f.display)a(), i = (t - v) / 2, k = h + (c - l) / 2; else if ("bubble" == f.display) {
                    a();
                    var D = s.offset(), q = b(".dw-arr", p), Q = b(".dw-arrw-i", p), n = g.outerWidth();
                    m = s.outerWidth();
                    i = D.left - (g.outerWidth(!0) - m) / 2;
                    i = i > t - n ? t - (n + 20) : i;
                    i = 0 <= i ? i : 20;
                    k = D.top - (g.outerHeight() + 3);
                    k < h || D.top > h + c ? (g.removeClass("dw-bubble-top").addClass("dw-bubble-bottom"),
                        k = D.top + s.outerHeight() + 3, H = k + g.outerHeight(!0) > h + c || D.top > h + c) : g.removeClass("dw-bubble-bottom").addClass("dw-bubble-top");
                    k = k >= h ? k : h;
                    h = D.left + m / 2 - (i + (n - Q.outerWidth()) / 2);
                    h > Q.outerWidth() && (h = Q.outerWidth());
                    q.css({left:h})
                } else o.width = "100%", "top" == f.display ? k = h : "bottom" == f.display && (k = h + c - g.outerHeight(), k = 0 <= k ? k : 0);
                o.top = k;
                o.left = i;
                g.css(o);
                b(".dwo, .dw-persp", p).height(0).height(A());
                H && b(window).scrollTop(k + g.outerHeight(!0) - c)
            }
        }

        function w(a) {
            var b = +a.data("pos") + 1;
            m(a, b > e ? l : b, 1)
        }

        function $(a) {
            var b =
                +a.data("pos") - 1;
            m(a, b < l ? e : b, 2)
        }

        var h = this, V = b.mobiscroll, F = a, x = b(F), W, X, f = b.extend({}, L), Y, G, M, p, T = [], H = {}, R = x.is("input"), S = !1;
        h.enable = function () {
            f.disabled = !1;
            R && x.prop("disabled", !1)
        };
        h.disable = function () {
            f.disabled = !0;
            R && x.prop("disabled", !0)
        };
        h.scroll = function (a, b, f, d, e) {
            function A() {
                clearInterval(H[e]);
                H[e] = null;
                a.data("pos", b).closest(".dwwl").removeClass("dwa")
            }

            var t = (Y - b) * G, c;
            a.attr("style", (f ? N + "-transition:all " + f.toFixed(1) + "s ease-out;" : "") + (aa ? N + "-transform:translate3d(0," + t + "px,0);" :
                "top:" + t + "px;"));
            H[e] && A();
            f && void 0 !== d ? (c = 0, a.closest(".dwwl").addClass("dwa"), H[e] = setInterval(function () {
                c += 0.1;
                a.data("pos", Math.round((b - d) * Math.sin(c / f * (Math.PI / 2)) + d));
                c >= f && A()
            }, 100)) : a.data("pos", b)
        };
        h.setValue = function (a, b, f, d) {
            d || (h.values = h.temp.slice(0));
            S && a && U(f);
            b && (h.val = M, R && x.val(M).trigger("change"))
        };
        h.validate = function (a, b, f, d) {
            U(a, b, f, !0, d)
        };
        h.change = function (a) {
            M = f.formatResult(h.temp);
            "inline" == f.display ? h.setValue(!1, a) : b(".dwv", p).html(Q(M));
            a && f.onChange.call(F, M, h)
        };
        h.hide = function (a) {
            if (!1 === f.onClose.call(F, M, h))return!1;
            b(".dwtd").prop("disabled", !1).removeClass("dwtd");
            x.blur();
            p && ("inline" != f.display && f.animate && !a ? (b(".dw", p).addClass("dw-" + f.animate + " dw-out"), setTimeout(function () {
                p.remove();
                p = null
            }, 350)) : (p.remove(), p = null), S = !1, b(window).unbind(".dw"))
        };
        h.changeWheel = function () {
            if (p) {
                var a = 0, d, e, A, c = arguments.length;
                for (d in f.wheels)for (e in f.wheels[d]) {
                    if (-1 < b.inArray(a, arguments) && (T[a] = f.wheels[d][e], A = b("ul", p).eq(a), A.html(o(a)), c--, !c)) {
                        E();
                        U();
                        return
                    }
                    a++
                }
            }
        };
        h.show = function (a) {
            if (f.disabled || S)return!1;
            "top" == f.display && (f.animate = "slidedown");
            "bottom" == f.display && (f.animate = "slideup");
            r();
            f.onBeforeShow.call(F, p, h);
            var e = 0, A, c = "", g = "", v = "";
            f.animate && !a && (g = '<div class="dw-persp">', v = "</div>", c = "dw-" + f.animate + " dw-in");
            c = '<div class="' + f.theme + " dw-" + f.display + '">' + ("inline" == f.display ? '<div class="dw dwbg dwi"><div class="dwwr">' : g + '<div class="dwo"></div><div class="dw dwbg ' + c + '"><div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div><div class="dwwr">' +
                (f.headerText ? '<div class="dwv"></div>' : ""));
            for (a = 0; a < f.wheels.length; a++) {
                c += '<div class="dwc' + ("scroller" != f.mode ? " dwpm" : " dwsc") + (f.showLabel ? "" : " dwhl") + '"><div class="dwwc dwrc"><table cellpadding="0" cellspacing="0"><tr>';
                for (A in f.wheels[a])T[e] = f.wheels[a][A], c += '<td><div class="dwwl dwrc dwwl' + e + '">' + ("scroller" != f.mode ? '<div class="dwwb dwwbp" style="height:' + G + "px;line-height:" + G + 'px;"><span>+</span></div><div class="dwwb dwwbm" style="height:' + G + "px;line-height:" + G + 'px;"><span>&ndash;</span></div>' :
                    "") + '<div class="dwl">' + A + '</div><div class="dww dwrc" style="height:' + f.rows * G + "px;min-width:" + f.width + 'px;"><ul>', c += o(e), c += '</ul><div class="dwwo"></div></div><div class="dwwol"></div></div></td>', e++;
                c += "</tr></table></div></div>"
            }
            c += ("inline" != f.display ? '<div class="dwbc' + (f.button3 ? " dwbc-p" : "") + '"><span class="dwbw dwb-s"><span class="dwb">' + f.setText + "</span></span>" + (f.button3 ? '<span class="dwbw dwb-n"><span class="dwb">' + f.button3Text + "</span></span>" : "") + '<span class="dwbw dwb-c"><span class="dwb">' +
                f.cancelText + "</span></span></div>" + v : '<div class="dwcc"></div>') + "</div></div></div>";
            p = b(c);
            U();
            "inline" != f.display ? p.appendTo("body") : x.is("div") ? x.html(p) : p.insertAfter(x);
            S = !0;
            "inline" != f.display && (b(".dwb-s span", p).click(function () {
                h.hide();
                h.setValue(false, true);
                f.onSelect.call(F, h.val, h);
                return false
            }), b(".dwb-c span", p).click(function () {
                h.hide();
                f.onCancel.call(F, h.val, h);
                return false
            }), f.button3 && b(".dwb-n span", p).click(f.button3), f.scrollLock && p.bind("touchmove", function (a) {
                a.preventDefault()
            }),
                b("input,select").each(function () {
                    b(this).prop("disabled") || b(this).addClass("dwtd")
                }), b("input,select").prop("disabled", !0), E(), b(window).bind("resize.dw", E));
            p.delegate(".dwwl", "DOMMouseScroll mousewheel",
                function (a) {
                    if (!i(this)) {
                        a.preventDefault();
                        var a = a.originalEvent, a = a.wheelDelta ? a.wheelDelta / 120 : a.detail ? -a.detail / 3 : 0, f = b("ul", this), c = +f.data("pos"), c = Math.round(c - a);
                        t(f);
                        m(f, c, a < 0 ? 1 : 2)
                    }
                }).delegate(".dwb, .dwwb", J,
                function () {
                    b(this).addClass("dwb-a")
                }).delegate(".dwwb", J,
                function (a) {
                    var c =
                        b(this).closest(".dwwl");
                    if (!i(c) && !c.hasClass("dwa")) {
                        a.preventDefault();
                        a.stopPropagation();
                        var d = c.find("ul"), e = b(this).hasClass("dwwbp") ? w : $;
                        k = true;
                        t(d);
                        clearInterval(n);
                        n = setInterval(function () {
                            e(d)
                        }, f.delay);
                        e(d)
                    }
                }).delegate(".dwwl", J, function (a) {
                    a.preventDefault();
                    if (!i(this) && !k && f.mode != "clickpick") {
                        C = true;
                        D = false;
                        d = b("ul", this);
                        d.closest(".dwwl").addClass("dwa");
                        K = +d.data("pos");
                        t(d);
                        clearInterval(H[s]);
                        y = O(a);
                        z = new Date;
                        B = y;
                        h.scroll(d, K)
                    }
                });
            f.onShow.call(F, p, h);
            W.init(p, h)
        };
        h.init = function (a) {
            W =
                b.extend({defaults:{}, init:g}, V.themes[a.theme || f.theme]);
            X = V.i18n[a.lang || f.lang];
            b.extend(f, W.defaults, X, v, a);
            h.settings = f;
            x.unbind(".dw");
            var c = V.presets[f.preset];
            c && (c = c.call(F, h), b.extend(v, a), b.extend(f, c, v), b.extend(I, c.methods));
            Y = Math.floor(f.rows / 2);
            G = f.height;
            void 0 !== x.data("dwro") && (F.readOnly = q(x.data("dwro")));
            S && h.hide();
            "inline" == f.display ? h.show() : (r(), R && f.showOnFocus && (x.data("dwro", F.readOnly), F.readOnly = !0, x.bind("focus.dw", function () {
                h.show()
            })))
        };
        h.values = null;
        h.val = null;
        h.temp = null;
        h.init(v)
    }

    function w(a) {
        for (var b in a)if (void 0 !== E[a[b]])return!0;
        return!1
    }

    function O(a) {
        return a.changedTouches || a.originalEvent && a.originalEvent.changedTouches ? a.originalEvent ? a.originalEvent.changedTouches[0].pageY : a.changedTouches[0].pageY : a.pageY
    }

    function q(a) {
        return!0 === a || "true" == a
    }

    function m(a, d, g, k, A) {
        d = d > e ? e : d;
        d = d < l ? l : d;
        a = b("li", a).eq(d);
        c.temp[s] = a.attr("data-val");
        c.validate(k ? d == A ? 0.1 : Math.abs(0.1 * (d - A)) : 0, A, s, g)
    }

    var i = {}, n, g = function () {
        }, u, l, e, c, o = (new Date).getTime(),
        C, k, d, s, y, B, z, K, D, E = document.createElement("modernizr").style, aa = w(["perspectiveProperty", "WebkitPerspective", "MozPerspective", "OPerspective", "msPerspective"]), N = function () {
            var a = ["Webkit", "Moz", "O", "ms"], b;
            for (b in a)if (w([a[b] + "Transform"]))return"-" + a[b].toLowerCase();
            return""
        }(), J = "touchstart mousedown", L = {width:70, height:40, rows:3, delay:300, disabled:!1, readonly:!1, showOnFocus:!0, showLabel:!0, wheels:[], theme:"", headerText:"{value}", display:"modal", mode:"scroller", preset:"", lang:"en-US", setText:"Set",
            cancelText:"Cancel", scrollLock:!0, onBeforeShow:g, onShow:g, onClose:g, onSelect:g, onCancel:g, onChange:g, formatResult:function (a) {
                return a.join(" ")
            }, parseValue:function (a, b) {
                var c = b.settings.wheels, d = a.split(" "), e = [], t = 0, g, k, i;
                for (g = 0; g < c.length; g++)for (k in c[g]) {
                    if (void 0 !== c[g][k][d[t]])e.push(d[t]); else for (i in c[g][k]) {
                        e.push(i);
                        break
                    }
                    t++
                }
                return e
            }, validate:g}, I = {init:function (a) {
            void 0 === a && (a = {});
            return this.each(function () {
                this.id || (o += 1, this.id = "scoller" + o);
                i[this.id] = new r(this, a)
            })
        }, enable:function () {
            return this.each(function () {
                var a =
                    i[this.id];
                a && a.enable()
            })
        }, disable:function () {
            return this.each(function () {
                var a = i[this.id];
                a && a.disable()
            })
        }, isDisabled:function () {
            var a = i[this[0].id];
            if (a)return a.settings.disabled
        }, option:function (a, b) {
            return this.each(function () {
                var c = i[this.id];
                if (c) {
                    var d = {};
                    "object" === typeof a ? d = a : d[a] = b;
                    c.init(d)
                }
            })
        }, setValue:function (a, b, c, d) {
            return this.each(function () {
                var e = i[this.id];
                e && (e.temp = a, e.setValue(!0, b, c, d))
            })
        }, getInst:function () {
            return i[this[0].id]
        }, getValue:function () {
            var a = i[this[0].id];
            if (a)return a.values
        }, show:function () {
            var a = i[this[0].id];
            if (a)return a.show()
        }, hide:function () {
            return this.each(function () {
                var a = i[this.id];
                a && a.hide()
            })
        }, destroy:function () {
            return this.each(function () {
                var a = i[this.id];
                a && (a.hide(), b(this).unbind(".dw"), delete i[this.id], b(this).is("input") && (this.readOnly = q(b(this).data("dwro"))))
            })
        }};
    b(document).bind("touchmove mousemove", function (a) {
        C && (a.preventDefault(), B = O(a), a = K + (y - B) / u, a = a > e + 1 ? e + 1 : a, a = a < l - 1 ? l - 1 : a, c.scroll(d, a), D = !0)
    });
    b(document).bind("touchend mouseup",
        function (a) {
            if (C) {
                a.preventDefault();
                var c = new Date - z, a = K + (y - B) / u, g;
                g = d.offset().top;
                a = a > e + 1 ? e + 1 : a;
                a = a < l - 1 ? l - 1 : a;
                300 > c ? (c = (B - y) / c, c = c * c / 0.0012, 0 > B - y && (c = -c)) : c = B - y;
                g = !c && !D ? Math.floor((B - g) / u) : Math.round(K - c / u);
                m(d, g, 0, !0, Math.round(a));
                C = !1;
                d = null
            }
            k && (clearInterval(n), k = !1);
            b(".dwb-a").removeClass("dwb-a")
        });
    b.fn.mobiscroll = function (a) {
        if (I[a])return I[a].apply(this, Array.prototype.slice.call(arguments, 1));
        if ("object" === typeof a || !a)return I.init.apply(this, arguments);
        b.error("Unknown method")
    };
    b.mobiscroll = {setDefaults:function (a) {
        b.extend(L, a)
    }, presets:{}, themes:{}, i18n:{}};
    b.scroller = b.scroller || b.mobiscroll;
    b.fn.scroller = b.fn.scroller || b.fn.mobiscroll
})(jQuery);
(function (b) {
    var r = b.mobiscroll, w = new Date, O = {dateFormat:"mm/dd/yy", dateOrder:"mmddy", timeWheels:"hhiiA", timeFormat:"hh:ii A", startYear:w.getFullYear() - 100, endYear:w.getFullYear() + 1, monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","), monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","), dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","), dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),
        shortYearCutoff:"+10", monthText:"Month", dayText:"Day", yearText:"Year", hourText:"Hours", minuteText:"Minutes", secText:"Seconds", ampmText:"&nbsp;", nowText:"Now", showNow:!1, stepHour:1, stepMinute:1, stepSecond:1, separator:" "}, w = function (q) {
        function m(a, b, c) {
            return void 0 !== k[b] ? +a[k[b]] : void 0 !== c ? c : N[s[b]] ? N[s[b]]() : s[b](N)
        }

        function i(a, b) {
            return Math.floor(a / b) * b
        }

        function n(a) {
            var b = m(a, "h", 0);
            return new Date(m(a, "y"), m(a, "m"), m(a, "d", 1), m(a, "ap") ? b + 12 : b, m(a, "i", 0), m(a, "s", 0))
        }

        var g = b(this), u = {}, l;
        if (g.is("input")) {
            switch (g.attr("type")) {
                case "date":
                    l =
                        "yy-mm-dd";
                    break;
                case "datetime":
                    l = "yy-mm-ddTHH:ii:ssZ";
                    break;
                case "datetime-local":
                    l = "yy-mm-ddTHH:ii:ss";
                    break;
                case "month":
                    l = "yy-mm";
                    u.dateOrder = "mmyy";
                    break;
                case "time":
                    l = "HH:ii:ss"
            }
            var e = g.attr("min"), g = g.attr("max");
            e && (u.minDate = r.parseDate(l, e));
            g && (u.maxDate = r.parseDate(l, g))
        }
        var c = b.extend({}, O, u, q.settings), o = 0, u = [], C = [], k = {}, d, s = {y:"getFullYear", m:"getMonth", d:"getDate", h:function (a) {
            a = a.getHours();
            a = E && 12 <= a ? a - 12 : a;
            return i(a, J)
        }, i:function (a) {
            return i(a.getMinutes(), L)
        }, s:function (a) {
            return i(a.getSeconds(),
                I)
        }, ap:function (a) {
            return D && 11 < a.getHours() ? 1 : 0
        }}, y = c.preset, B = c.dateOrder, z = c.timeWheels, K = B.match(/D/), D = z.match(/a/i), E = z.match(/h/), w = "datetime" == y ? c.dateFormat + c.separator + c.timeFormat : "time" == y ? c.timeFormat : c.dateFormat, N = new Date, J = c.stepHour, L = c.stepMinute, I = c.stepSecond, a = c.minDate || new Date(c.startYear, 0, 1), v = c.maxDate || new Date(c.endYear, 11, 31, 23, 59, 59);
        l = l || w;
        if (y.match(/date/i)) {
            b.each(["y", "m", "d"], function (a, b) {
                d = B.search(RegExp(b, "i"));
                -1 < d && C.push({o:d, v:b})
            });
            C.sort(function (a, b) {
                return a.o > b.o ? 1 : -1
            });
            b.each(C, function (a, b) {
                k[b.v] = a
            });
            e = {};
            for (g = 0; 3 > g; g++)if (g == k.y) {
                o++;
                e[c.yearText] = {};
                var P = a.getFullYear(), Z = v.getFullYear();
                for (d = P; d <= Z; d++)e[c.yearText][d] = B.match(/yy/i) ? d : (d + "").substr(2, 2)
            } else if (g == k.m) {
                o++;
                e[c.monthText] = {};
                for (d = 0; 12 > d; d++)P = B.replace(/[dy]/gi, "").replace(/mm/, 9 > d ? "0" + (d + 1) : d + 1).replace(/m/, d), e[c.monthText][d] = P.match(/MM/) ? P.replace(/MM/, '<span class="dw-mon">' + c.monthNames[d] + "</span>") : P.replace(/M/, '<span class="dw-mon">' + c.monthNamesShort[d]) +
                    "</span>"
            } else if (g == k.d) {
                o++;
                e[c.dayText] = {};
                for (d = 1; 32 > d; d++)e[c.dayText][d] = B.match(/dd/i) && 10 > d ? "0" + d : d
            }
            u.push(e)
        }
        if (y.match(/time/i)) {
            C = [];
            b.each(["h", "i", "s"], function (a, b) {
                a = z.search(RegExp(b, "i"));
                -1 < a && C.push({o:a, v:b})
            });
            C.sort(function (a, b) {
                return a.o > b.o ? 1 : -1
            });
            b.each(C, function (a, b) {
                k[b.v] = o + a
            });
            e = {};
            for (g = o; g < o + 3; g++)if (g == k.h) {
                o++;
                e[c.hourText] = {};
                for (d = 0; d < (E ? 12 : 24); d += J)e[c.hourText][d] = E && 0 == d ? 12 : z.match(/hh/i) && 10 > d ? "0" + d : d
            } else if (g == k.i) {
                o++;
                e[c.minuteText] = {};
                for (d = 0; 60 > d; d +=
                    L)e[c.minuteText][d] = z.match(/ii/) && 10 > d ? "0" + d : d
            } else if (g == k.s) {
                o++;
                e[c.secText] = {};
                for (d = 0; 60 > d; d += I)e[c.secText][d] = z.match(/ss/) && 10 > d ? "0" + d : d
            }
            D && (k.ap = o++, g = z.match(/A/), e[c.ampmText] = {"0":g ? "AM" : "am", 1:g ? "PM" : "pm"});
            u.push(e)
        }
        q.setDate = function (a, b, c, d) {
            for (var e in k)this.temp[k[e]] = a[s[e]] ? a[s[e]]() : s[e](a);
            this.setValue(!0, b, c, d)
        };
        q.getDate = function (a) {
            return n(a)
        };
        return{button3Text:c.showNow ? c.nowText : void 0, button3:c.showNow ? function () {
            q.setDate(new Date, !1, 0.3, !0)
        } : void 0, wheels:u, headerText:function () {
            return r.formatDate(w,
                n(q.temp), c)
        }, formatResult:function (a) {
            return r.formatDate(l, n(a), c)
        }, parseValue:function (a) {
            var b = new Date, d, e = [];
            try {
                b = r.parseDate(l, a, c)
            } catch (g) {
            }
            for (d in k)e[k[d]] = b[s[d]] ? b[s[d]]() : s[d](b);
            return e
        }, validate:function (d) {
            var e = q.temp, g = {y:a.getFullYear(), m:0, d:1, h:0, i:0, s:0, ap:0}, l = {y:v.getFullYear(), m:11, d:31, h:i(E ? 11 : 23, J), i:i(59, L), s:i(59, I), ap:1}, o = !0, D = !0;
            b.each("y,m,d,ap,h,i,s".split(","), function (i, n) {
                if (k[n] !== void 0) {
                    var h = g[n], q = l[n], r = 31, x = m(e, n), u = b("ul", d).eq(k[n]), C, f;
                    if (n == "d") {
                        C =
                            m(e, "y");
                        f = m(e, "m");
                        q = r = 32 - (new Date(C, f, 32)).getDate();
                        K && b("li", u).each(function () {
                            var a = b(this), d = a.data("val"), e = (new Date(C, f, d)).getDay(), d = B.replace(/[my]/gi, "").replace(/dd/, d < 10 ? "0" + d : d).replace(/d/, d);
                            b(".dw-i", a).html(d.match(/DD/) ? d.replace(/DD/, '<span class="dw-day">' + c.dayNames[e] + "</span>") : d.replace(/D/, '<span class="dw-day">' + c.dayNamesShort[e]) + "</span>")
                        })
                    }
                    o && a && (h = a[s[n]] ? a[s[n]]() : s[n](a));
                    D && v && (q = v[s[n]] ? v[s[n]]() : s[n](v));
                    if (n != "y") {
                        var y = b('li[data-val="' + h + '"]', u).index(),
                            z = b('li[data-val="' + q + '"]', u).index();
                        b("li", u).removeClass("dw-v").slice(y, z + 1).addClass("dw-v");
                        n == "d" && b("li", u).removeClass("dw-h").slice(r).addClass("dw-h")
                    }
                    x < h && (x = h);
                    x > q && (x = q);
                    o && (o = x == h);
                    D && (D = x == q);
                    if (c.invalid && n == "d") {
                        var E = [];
                        c.invalid.dates && b.each(c.invalid.dates, function (a, b) {
                            b.getFullYear() == C && b.getMonth() == f && E.push(b.getDate() - 1)
                        });
                        if (c.invalid.daysOfWeek) {
                            var p = (new Date(C, f, 1)).getDay();
                            b.each(c.invalid.daysOfWeek, function (a, b) {
                                for (j = b - p; j < r; j = j + 7)j >= 0 && E.push(j)
                            })
                        }
                        c.invalid.daysOfMonth &&
                        b.each(c.invalid.daysOfMonth, function (a, b) {
                            b = (b + "").split("/");
                            b[1] ? b[0] - 1 == f && E.push(b[1] - 1) : E.push(b[0] - 1)
                        });
                        b.each(E, function (a, c) {
                            b("li", u).eq(c).removeClass("dw-v")
                        })
                    }
                    e[k[n]] = x
                }
            })
        }, methods:{getDate:function (a) {
            var c = b(this).mobiscroll("getInst");
            if (c)return c.getDate(a ? c.temp : c.values)
        }, setDate:function (a, c, d, e) {
            void 0 == c && (c = !1);
            return this.each(function () {
                var g = b(this).mobiscroll("getInst");
                g && g.setDate(a, c, d, e)
            })
        }}}
    };
    r.presets.date = w;
    r.presets.datetime = w;
    r.presets.time = w;
    r.formatDate = function (q, m, i) {
        if (!m)return null;
        var i = b.extend({}, O, i), n = function (b) {
            for (var c = 0; l + 1 < q.length && q.charAt(l + 1) == b;)c++, l++;
            return c
        }, g = function (b, c, d) {
            c = "" + c;
            if (n(b))for (; c.length < d;)c = "0" + c;
            return c
        }, u = function (b, c, d, e) {
            return n(b) ? e[c] : d[c]
        }, l, e = "", c = !1;
        for (l = 0; l < q.length; l++)if (c)"'" == q.charAt(l) && !n("'") ? c = !1 : e += q.charAt(l); else switch (q.charAt(l)) {
            case "d":
                e += g("d", m.getDate(), 2);
                break;
            case "D":
                e += u("D", m.getDay(), i.dayNamesShort, i.dayNames);
                break;
            case "o":
                e += g("o", (m.getTime() - (new Date(m.getFullYear(),
                    0, 0)).getTime()) / 864E5, 3);
                break;
            case "m":
                e += g("m", m.getMonth() + 1, 2);
                break;
            case "M":
                e += u("M", m.getMonth(), i.monthNamesShort, i.monthNames);
                break;
            case "y":
                e += n("y") ? m.getFullYear() : (10 > m.getYear() % 100 ? "0" : "") + m.getYear() % 100;
                break;
            case "h":
                var o = m.getHours(), e = e + g("h", 12 < o ? o - 12 : 0 == o ? 12 : o, 2);
                break;
            case "H":
                e += g("H", m.getHours(), 2);
                break;
            case "i":
                e += g("i", m.getMinutes(), 2);
                break;
            case "s":
                e += g("s", m.getSeconds(), 2);
                break;
            case "a":
                e += 11 < m.getHours() ? "pm" : "am";
                break;
            case "A":
                e += 11 < m.getHours() ? "PM" : "AM";
                break;
            case "'":
                n("'") ? e += "'" : c = !0;
                break;
            default:
                e += q.charAt(l)
        }
        return e
    };
    r.parseDate = function (q, m, i) {
        var n = new Date;
        if (!q || !m)return n;
        var m = "object" == typeof m ? m.toString() : m + "", g = b.extend({}, O, i), u = g.shortYearCutoff, i = n.getFullYear(), l = n.getMonth() + 1, e = n.getDate(), c = -1, o = n.getHours(), n = n.getMinutes(), r = 0, k = -1, d = !1, s = function (b) {
            (b = w + 1 < q.length && q.charAt(w + 1) == b) && w++;
            return b
        }, y = function (b) {
            s(b);
            b = m.substr(z).match(RegExp("^\\d{1," + ("@" == b ? 14 : "!" == b ? 20 : "y" == b ? 4 : "o" == b ? 3 : 2) + "}"));
            if (!b)return 0;
            z +=
                b[0].length;
            return parseInt(b[0], 10)
        }, B = function (b, c, d) {
            b = s(b) ? d : c;
            for (c = 0; c < b.length; c++)if (m.substr(z, b[c].length).toLowerCase() == b[c].toLowerCase())return z += b[c].length, c + 1;
            return 0
        }, z = 0, w;
        for (w = 0; w < q.length; w++)if (d)"'" == q.charAt(w) && !s("'") ? d = !1 : z++; else switch (q.charAt(w)) {
            case "d":
                e = y("d");
                break;
            case "D":
                B("D", g.dayNamesShort, g.dayNames);
                break;
            case "o":
                c = y("o");
                break;
            case "m":
                l = y("m");
                break;
            case "M":
                l = B("M", g.monthNamesShort, g.monthNames);
                break;
            case "y":
                i = y("y");
                break;
            case "H":
                o = y("H");
                break;
            case "h":
                o = y("h");
                break;
            case "i":
                n = y("i");
                break;
            case "s":
                r = y("s");
                break;
            case "a":
                k = B("a", ["am", "pm"], ["am", "pm"]) - 1;
                break;
            case "A":
                k = B("A", ["am", "pm"], ["am", "pm"]) - 1;
                break;
            case "'":
                s("'") ? z++ : d = !0;
                break;
            default:
                z++
        }
        100 > i && (i += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (i <= ("string" != typeof u ? u : (new Date).getFullYear() % 100 + parseInt(u, 10)) ? 0 : -100));
        if (-1 < c) {
            l = 1;
            e = c;
            do {
                g = 32 - (new Date(i, l - 1, 32)).getDate();
                if (e <= g)break;
                l++;
                e -= g
            } while (1)
        }
        o = new Date(i, l - 1, e, -1 == k ? o : k && 12 > o ? o + 12 : !k && 12 == o ? 0 : o,
            n, r);
        if (o.getFullYear() != i || o.getMonth() + 1 != l || o.getDate() != e)throw"Invalid date";
        return o
    }
})(jQuery);
